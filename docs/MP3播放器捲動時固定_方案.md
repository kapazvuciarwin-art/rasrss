# rasrss MP3 播放器「捲動時不消失」方案

## 需求

逐字稿詳情頁的 MP3 播放器（倒退 10 秒 / 播放 / 前進 10 秒 + 時間）在頁面捲動時會被捲出視窗，希望**捲動時按鈕仍保持可見**。

---

## 方案一：Sticky（黏在視窗頂部）

**做法**：把「播放器區塊」（`#transcript-audio-wrap` 或包一層）設成 `position: sticky; top: 0`（可加 `z-index` 與背景色）。捲動時該區塊會黏在視窗頂端，直到所屬的 `#transcript-detail-card` 捲出視野為止。

| 優點 | 缺點 |
|------|------|
| 只改 CSS，實作簡單 | 會佔用頂部一塊固定高度，長文會從下方滑過 |
| 不需 JS | 捲到「列表」或「其他卡片」時播放器會一起離開（符合預期：只在逐字稿詳情內黏住） |
| 播放器仍在文件流內，版面自然 | 需給背景色，避免文字從底下透出 |

**適用**：希望改動最小、且能接受播放器在閱讀時固定在「畫面頂端」一塊區域。

---

## 方案二：Fixed 底欄（固定在視窗底部）

**做法**：在頁面底部做一個**固定底欄**（`position: fixed; bottom: 0; left: 0; right: 0`），裡面放同一組播放控制（倒退 / 播放 / 前進 + 時間）。  
- **顯示時機**：僅在「有開啟逐字稿詳情且該則有 MP3」時顯示底欄；關閉詳情或換成沒有 MP3 的逐字稿時隱藏。  
- **版面**：主內容區加 `padding-bottom`（或留一塊高度）避免最後幾行被底欄遮住。

| 優點 | 缺點 |
|------|------|
| 捲到哪裡按鈕都在畫面底部，永遠可見 | 需要一點 JS（顯示/隱藏時機、可選：同步底欄與詳情內的播放狀態） |
| 不擋住上方標題與內文開頭 | 若保留詳情卡內「原」播放器，會有兩份 UI，需決定是否只留底欄一份 |

**適用**：希望「無論捲到哪裡」都能操作播放，且能接受底部常駐一條列。

---

## 方案三：Sticky + 只黏播放器（推薦）

**做法**：維持目前結構，只把**播放器那一塊**（標題 + 日期底下的 `#transcript-audio-wrap`）設成 sticky，例如：

- 外層包一層 `div`（或直接用現有 wrap）設 `position: sticky; top: 0; z-index: 10; background: 與卡片同色`。
- 捲動時：標題、日期會先捲上去，**播放器會黏在視窗頂端**；繼續往下捲，底下是逐字稿內文。當整張 detail card 往上捲出視窗時，播放器會一起離開。

與方案一的差別：可以只讓「播放器區」黏住，標題與日期仍會捲走，畫面較精簡。

| 優點 | 缺點 |
|------|------|
| 改動小（主要 CSS），必要時只多包一層 div | 一樣會佔用頂部一塊高度 |
| 只黏播放器，不黏整張卡，閱讀時干擾較小 | 需背景色避免透字 |
| 不需複製一份播放器，狀態單一 | — |

**適用**：想要「捲動時按鈕不消失」、改動少、且接受播放器在頂端一塊固定區域。

---

## 建議

- **先做方案三（Sticky 只黏播放器）**：實作快、行為符合「捲動時按鈕不消失」，且不增加第二組播放器。
- 若之後希望「按鈕永遠在畫面最底部、不佔內容區頂部」，再考慮**方案二**（Fixed 底欄），並可選擇隱藏詳情卡內原本的播放器，只保留底欄一組控制。

以上僅為方案說明，尚未修改程式。
